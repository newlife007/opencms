# OpenWan åª’èµ„ç®¡ç†ç³»ç»Ÿ

[![Go Version](https://img.shields.io/badge/Go-1.25.5-blue.svg)](https://golang.org/)
[![Vue Version](https://img.shields.io/badge/Vue-3.x-green.svg)](https://vuejs.org/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE.txt)

ç°ä»£åŒ–çš„ä¼ä¸šçº§åª’èµ„ç®¡ç†ç³»ç»Ÿï¼ŒåŸºäº Go + Gin + Vue.js 3 æ„å»ºï¼Œæ”¯æŒè§†é¢‘ã€éŸ³é¢‘ã€å›¾ç‰‡ã€å¯Œåª’ä½“ç­‰å¤šç§æ–‡ä»¶ç±»å‹çš„ç®¡ç†ã€è½¬ç ã€æœç´¢å’Œå‘å¸ƒã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- ğŸ¬ **å¤šåª’ä½“ç®¡ç†** - æ”¯æŒè§†é¢‘ã€éŸ³é¢‘ã€å›¾ç‰‡ã€å¯Œåª’ä½“å››å¤§ç±»å‹
- ğŸ“¤ **æ™ºèƒ½ä¸Šä¼ ** - æ‹–æ‹½ä¸Šä¼ ã€å®æ—¶è¿›åº¦ã€æ–­ç‚¹ç»­ä¼ ã€MD5å»é‡
- ğŸï¸ **åœ¨çº¿é¢„è§ˆ** - Video.js æ’­æ”¾å™¨ï¼Œæ”¯æŒ FLV æ ¼å¼æµåª’ä½“
- ğŸ” **å…¨æ–‡æœç´¢** - Sphinx å¼•æ“ï¼Œæ”¯æŒä¸­æ–‡åˆ†è¯å’Œé«˜çº§ç­›é€‰
- ğŸ“‹ **åŠ¨æ€ç¼–ç›®** - å¯é…ç½®çš„å…ƒæ•°æ®è¡¨å•ï¼Œæ”¯æŒ8ç§å­—æ®µç±»å‹
- ğŸ”„ **å·¥ä½œæµç®¡ç†** - ä¸Šä¼  â†’ ç¼–ç›® â†’ å®¡æ ¸ â†’ å‘å¸ƒå®Œæ•´æµç¨‹

### æƒé™ä¸ç®¡ç†
- ğŸ‘¥ **RBACæƒé™** - ç”¨æˆ·-ç»„-è§’è‰²-æƒé™å››çº§æƒé™ä½“ç³»
- ğŸ·ï¸ **åˆ†ç±»ç®¡ç†** - æ ‘å½¢å±‚çº§ç»“æ„ï¼Œæ”¯æŒæ‹–æ‹½æ’åº
- ğŸ¯ **è®¿é—®æ§åˆ¶** - åŸºäºç­‰çº§å’Œç»„çš„ç»†ç²’åº¦æƒé™æ§åˆ¶
- ğŸ“Š **ç»Ÿè®¡åˆ†æ** - æ–‡ä»¶ç»Ÿè®¡ã€ç”¨æˆ·è¡Œä¸ºã€ç³»ç»Ÿç›‘æ§

### æŠ€æœ¯æ¶æ„
- ğŸš€ **é«˜æ€§èƒ½** - Go è¯­è¨€åç«¯ï¼Œå¼‚æ­¥å¤„ç†ï¼Œåˆ†å¸ƒå¼æ¶æ„
- ğŸ“¦ **å¯æ‰©å±•** - å¾®æœåŠ¡è®¾è®¡ï¼Œæ°´å¹³æ‰©å±•ï¼Œæ— çŠ¶æ€æœåŠ¡
- ğŸ’¾ **å¤šå­˜å‚¨** - æœ¬åœ°å­˜å‚¨ + AWS S3ï¼Œæ”¯æŒCDNåŠ é€Ÿ
- ğŸ”§ **æ˜“éƒ¨ç½²** - Docker å®¹å™¨åŒ–ï¼ŒK8s ç¼–æ’ï¼Œä¸€é”®éƒ¨ç½²

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- **æ¡†æ¶**: Go 1.25.5 + Gin
- **æ•°æ®åº“**: MySQL 5.7+
- **ç¼“å­˜**: Redis 6.0+
- **æœç´¢**: Sphinx (CoreSeek)
- **æ¶ˆæ¯é˜Ÿåˆ—**: RabbitMQ / Amazon SQS
- **å­˜å‚¨**: Local Filesystem / AWS S3
- **è½¬ç **: FFmpeg

### å‰ç«¯
- **æ¡†æ¶**: Vue 3 + Vite
- **UIåº“**: Element Plus
- **çŠ¶æ€ç®¡ç†**: Pinia
- **è·¯ç”±**: Vue Router 4
- **HTTP**: Axios
- **æ’­æ”¾å™¨**: Video.js + FLV.js

### åŸºç¡€è®¾æ–½
- **å®¹å™¨**: Docker + Docker Compose
- **ç¼–æ’**: Kubernetes
- **ç›‘æ§**: Prometheus + Grafana
- **æ—¥å¿—**: ELK / Loki
- **CI/CD**: GitHub Actions / Jenkins

## ğŸ“¦ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Go 1.25.5+
- Node.js 18+
- MySQL 5.7+
- Redis 6.0+
- FFmpeg (with required codecs)
- Sphinx (optional, for search)

### æœ¬åœ°å¼€å‘

#### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/yourusername/openwan.git
cd openwan
```

#### 2. å¯åŠ¨åç«¯
```bash
# å®‰è£…ä¾èµ–
go mod download

# é…ç½®æ•°æ®åº“
cp configs/config.yaml.example configs/config.yaml
# ç¼–è¾‘ configs/config.yaml é…ç½®æ•°æ®åº“è¿æ¥

# è¿è¡Œæ•°æ®åº“è¿ç§»
go run cmd/migrate/main.go up

# å¯åŠ¨APIæœåŠ¡
go run cmd/api/main.go

# å¯åŠ¨è½¬ç Workerï¼ˆå¦ä¸€ä¸ªç»ˆç«¯ï¼‰
go run cmd/worker/main.go
```

#### 3. å¯åŠ¨å‰ç«¯
```bash
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

è®¿é—® http://localhost:5173

é»˜è®¤ç®¡ç†å‘˜è´¦å·ï¼š
- ç”¨æˆ·å: admin
- å¯†ç : admin123

### ç®¡ç†å‘˜å¯†ç é‡ç½®

å¦‚æœå¿˜è®°ç®¡ç†å‘˜å¯†ç æˆ–æ— æ³•ç™»å½•ï¼Œä½¿ç”¨è‡ªåŠ¨åŒ–é‡ç½®è„šæœ¬ï¼š

```bash
# é‡ç½®ä¸ºé»˜è®¤å¯†ç  "admin123"
./scripts/reset_admin_password.sh

# æˆ–é‡ç½®ä¸ºè‡ªå®šä¹‰å¯†ç 
./scripts/reset_admin_password.sh myNewPassword123
```

è¯¦ç»†è¯´æ˜è¯·å‚é˜… [ç®¡ç†å‘˜å¯†ç é‡ç½®æŒ‡å—](ADMIN_PASSWORD_RESET_GUIDE.md)

### Docker éƒ¨ç½²

```bash
# æ„å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# åœæ­¢æœåŠ¡
docker-compose down
```

è®¿é—® http://localhost:8080

### Kubernetes éƒ¨ç½²

```bash
# åº”ç”¨é…ç½®
kubectl apply -f deployments/k8s/

# æŸ¥çœ‹çŠ¶æ€
kubectl get pods -n openwan

# æŸ¥çœ‹æœåŠ¡
kubectl get svc -n openwan
```

## ğŸ“– æ–‡æ¡£

### æ ¸å¿ƒæ–‡æ¡£
- [æ¶æ„è®¾è®¡](docs/architecture.md)
- [APIæ–‡æ¡£](docs/api.md)
- [éƒ¨ç½²æŒ‡å—](docs/deployment.md)
- [å¼€å‘æŒ‡å—](docs/development.md)
- [é…ç½®è¯´æ˜](docs/configuration.md)
- [æ•°æ®åº“è®¾è®¡](docs/database.md)

### è¿ç»´æ–‡æ¡£
- [ç®¡ç†å‘˜å¯†ç é‡ç½®æŒ‡å—](ADMIN_PASSWORD_RESET_GUIDE.md) - å¿«é€Ÿé‡ç½®ç®¡ç†å‘˜å¯†ç 
- [å¯†ç é—®é¢˜è§£å†³æ–¹æ¡ˆ](PASSWORD_RESET_RESOLUTION.md) - å¯†ç é‡ç½®æŠ€æœ¯åˆ†æ
- [å¯†ç é—®é¢˜æ€»ç»“](PASSWORD_ISSUE_SUMMARY.md) - é—®é¢˜è°ƒæŸ¥ä¸è§£å†³è®°å½•

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

```bash
# æœåŠ¡é…ç½®
SERVER_HOST=0.0.0.0
SERVER_PORT=8080

# æ•°æ®åº“
DB_HOST=localhost
DB_PORT=3306
DB_NAME=openwan_db
DB_USER=root
DB_PASSWORD=your_password

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# å­˜å‚¨
STORAGE_TYPE=s3  # local or s3
S3_BUCKET=your-bucket
S3_REGION=us-east-1

# FFmpeg
FFMPEG_PATH=/usr/bin/ffmpeg
FFMPEG_WORKER_COUNT=4
```

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
go test ./...

# è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
go test -cover ./...

# è¿è¡Œå‰ç«¯æµ‹è¯•
cd frontend
npm run test
```

## ğŸ“Š ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Load Balancer                      â”‚
â”‚                  (ALB / Nginx)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                        â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Frontend (Vue) â”‚      â”‚  Backend (Go)   â”‚
    â”‚   Static Files  â”‚      â”‚   API Service   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                 â”‚                 â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
            â”‚     MySQL      â”‚ â”‚   Redis    â”‚  â”‚  RabbitMQ   â”‚
            â”‚   (Primary)    â”‚ â”‚  (Cache)   â”‚  â”‚   (Queue)   â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                                  â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
            â”‚     MySQL      â”‚              â”‚  Worker Service â”‚
            â”‚   (Replica)    â”‚              â”‚    (FFmpeg)     â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                                  â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
            â”‚    Sphinx      â”‚              â”‚   S3 Storage    â”‚
            â”‚    (Search)    â”‚              â”‚   (Media Files) â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

- **APIå“åº”æ—¶é—´**: p95 < 500ms
- **æ–‡ä»¶ä¸Šä¼ **: 50MB < 30s (good network)
- **è§†é¢‘è½¬ç **: 1080p@30fps < 5min
- **æœç´¢å“åº”**: < 200ms
- **å¹¶å‘æ”¯æŒ**: 500+ requests/second
- **å¯ç”¨æ€§**: 99.9%

## ğŸ”’ å®‰å…¨ç‰¹æ€§

- âœ… JWT / Session èº«ä»½è®¤è¯
- âœ… RBAC ç»†ç²’åº¦æƒé™æ§åˆ¶
- âœ… SQL æ³¨å…¥é˜²æŠ¤
- âœ… XSS é˜²æŠ¤
- âœ… CSRF é˜²æŠ¤
- âœ… æ–‡ä»¶ç±»å‹éªŒè¯
- âœ… æ–‡ä»¶å¤§å°é™åˆ¶
- âœ… Rate Limiting
- âœ… æ•°æ®åŠ å¯†ä¼ è¾“ (HTTPS)
- âœ… æ•æ„Ÿæ•°æ®è„±æ•

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ”¹åŠ¨ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

## ğŸ“ å˜æ›´æ—¥å¿—

æŸ¥çœ‹ [CHANGELOG.md](CHANGELOG.md) äº†è§£ç‰ˆæœ¬å†å²ã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº MIT è®¸å¯è¯å¼€æº - æŸ¥çœ‹ [LICENSE.txt](LICENSE.txt) äº†è§£è¯¦æƒ…ã€‚

## ğŸ‘¥ å›¢é˜Ÿ

- **åŸé¡¹ç›®**: OpenWan PHP ç‰ˆæœ¬
- **è¿ç§»é¡¹ç›®**: OpenWan Go ç‰ˆæœ¬

## ğŸ™ è‡´è°¢

- [Gin](https://github.com/gin-gonic/gin) - Webæ¡†æ¶
- [Vue.js](https://vuejs.org/) - å‰ç«¯æ¡†æ¶
- [Element Plus](https://element-plus.org/) - UIç»„ä»¶åº“
- [Video.js](https://videojs.com/) - è§†é¢‘æ’­æ”¾å™¨
- [FFmpeg](https://ffmpeg.org/) - è§†é¢‘è½¬ç 
- [Sphinx](http://sphinxsearch.com/) - å…¨æ–‡æœç´¢å¼•æ“

## ğŸ“ è”ç³»æ–¹å¼

- Issue: [GitHub Issues](https://github.com/yourusername/openwan/issues)
- Email: your-email@example.com

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªæ˜Ÿæ ‡ï¼
