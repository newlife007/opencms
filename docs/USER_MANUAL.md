# OpenWan 媒体资产管理系统 - 用户使用手册

**版本**: v2.0 (Go + Vue.js)  
**更新日期**: 2026-02-01  
**适用用户**: 全体用户

---

## 📖 目录

1. [系统概述](#系统概述)
2. [用户角色说明](#用户角色说明)
3. [登录系统](#登录系统)
4. [文件管理](#文件管理)
5. [文件搜索](#文件搜索)
6. [权限管理](#权限管理)
7. [系统设置](#系统设置)
8. [常见问题](#常见问题)

---

## 系统概述

### 什么是 OpenWan？

OpenWan 是一款专业的媒体资产管理系统（MAM），用于管理企业的视频、音频、图片和富媒体文件。系统提供完整的文件生命周期管理，包括：

- 📤 文件上传和存储
- 📝 元数据编目
- 🔍 全文搜索
- ✅ 审核发布流程
- 👥 权限访问控制
- 🎬 在线预览播放

### 系统特性

- ✅ **多媒体支持**: 视频、音频、图片、文档
- ✅ **权限控制**: 基于角色的精细权限管理（RBAC）
- ✅ **智能搜索**: 基于 Sphinx 的全文搜索
- ✅ **在线预览**: Video.js 播放器，支持 FLV/MP4
- ✅ **工作流**: 上传 → 编目 → 审核 → 发布
- ✅ **国际化**: 中英文双语界面

### 支持的文件类型

| 类型 | 支持格式 | 图标 |
|------|---------|------|
| 视频 | MP4, AVI, MOV, FLV, MKV, WMV | 🎬 |
| 音频 | MP3, WAV, AAC, FLAC, OGG | 🎵 |
| 图片 | JPG, PNG, GIF, BMP, WEBP | 🖼️ |
| 富媒体 | PDF, DOC, DOCX, XLS, XLSX, PPT, PPTX | 📄 |

---

## 用户角色说明

OpenWan 系统定义了以下用户角色，每个角色具有不同的权限：

### 👑 系统管理员 (Admin)
**权限范围**: 全部权限

**主要职责**:
- 用户和组管理
- 角色和权限配置
- 分类和编目属性管理
- 系统配置和维护

**使用场景**: 系统初始化、权限分配、组织架构调整

---

### 📝 编目员 (Cataloger)
**权限范围**: 文件上传、编辑编目信息

**主要职责**:
- 上传媒体文件
- 填写文件元数据
- 编辑编目信息
- 提交审核

**使用场景**: 日常文件入库和编目工作

---

### ✅ 审核员 (Reviewer)
**权限范围**: 审核文件、发布/拒绝文件

**主要职责**:
- 审核待发布文件
- 批准或拒绝文件
- 添加审核备注

**使用场景**: 文件质量把关和发布控制

---

### 👀 查看者 (Viewer)
**权限范围**: 查看和下载已发布文件

**主要职责**:
- 搜索文件
- 查看文件详情
- 下载文件（如有权限）

**使用场景**: 内容消费和使用

---

## 登录系统

### 首次登录

1. **打开浏览器**访问系统地址：
   ```
   http://your-domain:3000
   ```

2. **输入凭据**：
   - 用户名：由管理员提供
   - 密码：初始密码或自己设置的密码

3. **点击"登录"按钮**

4. **首次登录建议**：
   - 修改初始密码
   - 完善个人信息

### 默认管理员账号

初始系统提供默认管理员账号：
```
用户名: admin
密码: admin123
```

⚠️ **重要**: 首次登录后请立即修改密码！

### 忘记密码

联系系统管理员重置密码。

### 语言切换

点击右上角语言切换器，可在中文/English之间切换。

---

## 文件管理

### 上传文件

#### 步骤：

1. **进入上传页面**
   - 点击左侧菜单 "文件管理" → "文件上传"

2. **选择文件**
   - 方式1：点击"选择文件"按钮
   - 方式2：直接拖拽文件到上传区域

3. **填写基本信息**（可选）
   - 所属分类
   - 文件描述
   - 访问级别
   - 授权组

4. **开始上传**
   - 点击"开始上传"按钮
   - 查看上传进度

5. **上传完成**
   - 自动跳转到编目页面（如有权限）
   - 或查看文件列表

#### 上传限制：

- **文件大小**:
  - 视频: 最大 2GB
  - 音频: 最大 500MB
  - 图片: 最大 50MB
  - 文档: 最大 100MB

- **并发上传**: 最多同时上传 3 个文件

- **文件命名**: 
  - 支持中英文和数字
  - 避免特殊字符
  - 系统自动生成唯一文件名（MD5）

#### 上传失败排查：

| 问题 | 可能原因 | 解决方案 |
|------|---------|---------|
| 文件过大 | 超过大小限制 | 压缩文件或分割上传 |
| 格式不支持 | 文件格式不在支持列表 | 转换文件格式 |
| 网络超时 | 网络不稳定 | 检查网络连接，重新上传 |
| 权限不足 | 没有上传权限 | 联系管理员分配权限 |

---

### 文件编目

编目是为文件添加详细元数据的过程，便于后续管理和搜索。

#### 编目流程：

1. **进入编目页面**
   - 文件列表 → 选择文件 → "编辑编目"
   - 或上传完成后自动进入

2. **填写基本信息**
   - **标题**: 文件显示名称（必填）
   - **描述**: 文件简介
   - **分类**: 选择所属分类
   - **标签**: 添加关键词标签

3. **填写元数据**（根据文件类型动态显示）
   
   **视频文件**:
   - 导演、演员
   - 时长、分辨率
   - 制作时间、版权信息
   
   **音频文件**:
   - 歌手、专辑
   - 时长、比特率
   - 发行时间
   
   **图片文件**:
   - 拍摄地点、拍摄时间
   - 分辨率、格式
   - 版权信息
   
   **文档文件**:
   - 作者、创建时间
   - 页数、版本
   - 主题分类

4. **设置访问控制**
   - **浏览级别**: 设置可见性级别（1-10）
   - **授权组**: 选择可访问的用户组
   - **下载权限**: 是否允许下载

5. **保存**
   - **保存草稿**: 保存但不提交
   - **提交审核**: 提交给审核员审核

#### 编目最佳实践：

✅ **标题规范**:
- 使用描述性标题
- 包含关键信息（日期、主题）
- 示例：`2026年春节晚会_开场舞蹈_高清`

✅ **描述详细**:
- 至少50字以上
- 包含5W1H（谁、什么、何时、何地、为何、如何）

✅ **标签准确**:
- 添加3-10个标签
- 使用通用词汇
- 包含同义词

✅ **分类正确**:
- 选择最具体的分类
- 避免放在根分类

---

### 文件审核

审核员负责审核待发布的文件。

#### 审核步骤：

1. **进入审核页面**
   - 左侧菜单 → "文件管理" → "文件审核"

2. **查看待审核文件列表**
   - 显示所有状态为"待审核"的文件
   - 点击文件查看详情

3. **审核决策**
   - **通过**: 文件状态变为"已发布"，对授权用户可见
   - **拒绝**: 文件状态变为"已拒绝"，需要重新编辑

4. **添加审核备注**
   - 说明通过原因或拒绝理由
   - 给编目员改进建议

5. **批量审核**
   - 选择多个文件
   - 点击"批量通过"或"批量拒绝"

#### 审核标准：

✅ **元数据完整性**
- 所有必填字段已填写
- 信息准确无误

✅ **内容质量**
- 文件清晰完整
- 无损坏或错误

✅ **版权合规**
- 有合法使用权
- 版权信息完整

✅ **分类正确**
- 分类选择准确
- 标签合适

---

### 查看文件详情

1. **进入文件列表**
   - 左侧菜单 → "文件管理" → "文件列表"

2. **筛选文件**
   - 按类型筛选（视频/音频/图片/文档）
   - 按状态筛选（全部/待审核/已发布）
   - 按分类筛选

3. **查看详情**
   - 点击文件标题或"查看详情"按钮
   - 显示文件完整信息

#### 文件详情页包含：

**基本信息**:
- 文件名、类型、大小
- 上传者、上传时间
- 编目者、编目时间
- 发布者、发布时间

**元数据**:
- 所有编目信息
- 访问控制设置

**预览**:
- 视频/音频：在线播放器
- 图片：缩略图查看
- 文档：无法预览，仅下载

**操作按钮**:
- 📥 下载文件（如有权限）
- ✏️ 编辑编目（如有权限）
- 🗑️ 删除文件（如有权限）

---

### 下载文件

#### 单文件下载：

1. 进入文件详情页
2. 点击"下载"按钮
3. 浏览器开始下载

#### 批量下载：

1. 文件列表页选择多个文件
2. 点击"批量下载"
3. 系统打包为 ZIP 文件下载

#### 下载权限：

- 文件必须是"已发布"状态
- 用户级别 ≥ 文件浏览级别
- 用户所在组被授权
- 文件允许下载（`is_download = true`）

---

## 文件搜索

OpenWan 提供强大的全文搜索功能，基于 Sphinx 搜索引擎。

### 基本搜索

1. **进入搜索页面**
   - 左侧菜单 → "文件搜索"
   - 或点击顶部搜索框

2. **输入关键词**
   - 支持中英文
   - 支持多个关键词（空格分隔）

3. **查看搜索结果**
   - 结果按相关度排序
   - 关键词高亮显示

### 高级搜索

点击"高级搜索"展开更多筛选选项：

**文件类型**:
- ☑️ 视频
- ☑️ 音频
- ☑️ 图片
- ☑️ 富媒体

**上传时间**:
- 选择开始日期和结束日期

**上传者**:
- 输入上传者用户名

**排序方式**:
- 相关度（默认）
- 上传时间（升序/降序）
- 文件大小（升序/降序）

### 搜索技巧

#### 精确搜索
使用引号包裹关键词：
```
"春节晚会"
```

#### 多关键词搜索
用空格分隔：
```
春节 晚会 2026
```
结果包含任意关键词。

#### 排除关键词
使用减号：
```
春节 -2025
```
搜索包含"春节"但不包含"2025"的文件。

#### 通配符搜索
使用星号：
```
春节*
```
匹配"春节晚会"、"春节联欢"等。

### 搜索结果操作

- **查看详情**: 点击文件标题
- **快速预览**: 点击预览图标
- **添加收藏**: 点击收藏按钮
- **分享链接**: 生成分享链接

---

## 权限管理

### 用户权限说明

OpenWan 使用 RBAC（基于角色的访问控制）模型：

```
用户 → 用户组 → 角色 → 权限
```

#### 权限类型：

1. **文件权限**
   - `files.view`: 查看文件列表
   - `files.upload`: 上传文件
   - `files.edit`: 编辑文件
   - `files.delete`: 删除文件
   - `files.download`: 下载文件

2. **编目权限**
   - `catalog.view`: 查看编目信息
   - `catalog.edit`: 编辑编目
   - `catalog.submit`: 提交审核

3. **审核权限**
   - `approval.view`: 查看待审核文件
   - `approval.approve`: 批准文件
   - `approval.reject`: 拒绝文件

4. **管理权限**
   - `admin.users`: 用户管理
   - `admin.groups`: 组管理
   - `admin.roles`: 角色管理
   - `admin.categories`: 分类管理

### 查看我的权限

1. 点击右上角用户名
2. 选择"个人中心"
3. 查看"我的权限"标签页

### 申请权限

如需更多权限，请联系系统管理员。

---

## 系统设置

### 个人设置

1. **修改密码**
   - 右上角 → 个人中心 → 修改密码
   - 输入旧密码和新密码
   - 新密码要求：至少8位，包含字母和数字

2. **更新个人信息**
   - 邮箱地址
   - 联系电话
   - 部门信息

3. **界面设置**
   - 语言：中文/English
   - 主题：明亮/暗黑（待实现）
   - 每页显示数量：10/20/50/100

---

## 常见问题

### Q1: 为什么我看不到某些文件？

**A**: 可能原因：
1. 文件未发布（状态不是"已发布"）
2. 文件浏览级别高于您的用户级别
3. 文件限制了访问组，您不在授权组内
4. 文件已被删除

### Q2: 为什么上传失败？

**A**: 检查以下几点：
1. 文件大小是否超过限制
2. 文件格式是否支持
3. 网络连接是否稳定
4. 是否有上传权限
5. 存储空间是否充足

### Q3: 如何批量上传文件？

**A**: 
1. 进入上传页面
2. 一次选择多个文件（Ctrl+点击 或 拖拽多个文件）
3. 系统会按顺序上传
4. 每个文件需要单独编目

### Q4: 视频为什么播放不了？

**A**: 可能原因：
1. 视频正在转码中（等待几分钟）
2. 浏览器不支持视频格式（尝试更换浏览器）
3. 网络速度慢（刷新页面重试）
4. 视频文件损坏（重新上传）

### Q5: 搜索不到文件？

**A**: 
1. 检查搜索关键词拼写
2. 尝试使用更通用的关键词
3. 检查文件是否已发布
4. 搜索索引可能未更新（联系管理员重建索引）

### Q6: 如何删除文件？

**A**: 
1. 进入文件详情页
2. 点击"删除"按钮
3. 确认删除
4. 文件进入回收站（状态变为"已删除"）
5. 管理员可以永久删除或恢复

### Q7: 忘记密码怎么办？

**A**: 联系系统管理员重置密码。

### Q8: 如何查看系统通知？

**A**: 
1. 右上角铃铛图标显示未读通知数量
2. 点击查看通知列表
3. 通知类型：
   - 文件审核结果
   - 权限变更
   - 系统公告

### Q9: 文件可以分享给外部人员吗？

**A**: 
系统暂不支持外部分享。如需分享，请下载文件后通过其他方式传输。

### Q10: 如何联系技术支持？

**A**: 
- 📧 邮箱: support@openwan.com
- 📞 电话: 400-xxx-xxxx
- 💬 在线客服: 系统右下角聊天按钮

---

## 附录

### 键盘快捷键

| 快捷键 | 功能 |
|-------|------|
| Ctrl + K | 快速搜索 |
| Ctrl + U | 打开上传页面 |
| Esc | 关闭弹窗 |
| Ctrl + S | 保存（编目页面） |
| Ctrl + Enter | 提交（编目页面） |

### 文件状态说明

| 状态 | 说明 | 图标 |
|------|------|------|
| 新上传 (0) | 刚上传，未编目 | 🆕 |
| 待审核 (1) | 已编目，等待审核 | ⏳ |
| 已发布 (2) | 已通过审核，对用户可见 | ✅ |
| 已拒绝 (3) | 审核未通过，需要修改 | ❌ |
| 已删除 (4) | 已进入回收站 | 🗑️ |

### 浏览级别说明

| 级别 | 说明 | 可见用户 |
|------|------|---------|
| 1-3 | 公开 | 所有用户 |
| 4-6 | 受限 | 中级及以上用户 |
| 7-9 | 机密 | 高级用户 |
| 10 | 绝密 | 仅管理员 |

---

## 版本历史

| 版本 | 日期 | 更新内容 |
|------|------|---------|
| v2.0 | 2026-02-01 | Go + Vue.js 版本，全面重写 |
| v1.0 | 2015-xx-xx | PHP + QeePHP 初始版本 |

---

**文档维护**: OpenWan 开发团队  
**最后更新**: 2026-02-01  
**反馈建议**: docs@openwan.com
