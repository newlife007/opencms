<!DOCTYPE html>
<html>
<head>
    <title>OpenWan è·¯ç”±è¯Šæ–­</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #f5f5f5; }
        .info { background: white; padding: 15px; margin: 10px 0; border-radius: 5px; }
        .success { color: green; }
        .error { color: red; }
        .warning { color: orange; }
        h2 { border-bottom: 2px solid #409eff; padding-bottom: 10px; }
        pre { background: #f0f0f0; padding: 10px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>OpenWan å‰ç«¯è·¯ç”±è¯Šæ–­å·¥å…·</h1>
    
    <div class="info">
        <h2>ä½¿ç”¨è¯´æ˜</h2>
        <p>1. åœ¨OpenWanå‰ç«¯é¡µé¢ï¼ˆhttp://localhost:3000/ï¼‰æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰</p>
        <p>2. åˆ‡æ¢åˆ°"Console"æ ‡ç­¾</p>
        <p>3. å¤åˆ¶ä¸‹é¢çš„ä»£ç å¹¶ç²˜è´´åˆ°Consoleä¸­æ‰§è¡Œ</p>
        <p>4. æŸ¥çœ‹è¾“å‡ºç»“æœ</p>
    </div>

    <div class="info">
        <h2>è¯Šæ–­ä»£ç </h2>
        <pre>
// OpenWan è·¯ç”±è¯Šæ–­è„šæœ¬
console.log('========== OpenWan è·¯ç”±è¯Šæ–­ ==========');

// 1. æ£€æŸ¥è·¯ç”±å™¨å®ä¾‹
if (typeof $router !== 'undefined') {
    console.log('âœ… Vue Router å®ä¾‹å·²æ‰¾åˆ°');
    
    // 2. è·å–æ‰€æœ‰è·¯ç”±
    const allRoutes = $router.options.routes;
    console.log('ğŸ“‹ æ€»è·¯ç”±æ•°é‡:', allRoutes.length);
    
    // 3. æŸ¥æ‰¾æ ¹è·¯ç”±
    const rootRoute = allRoutes.find(r => r.path === '/');
    if (rootRoute) {
        console.log('âœ… æ ¹è·¯ç”±å·²æ‰¾åˆ°');
        console.log('ğŸ“‹ æ ¹è·¯ç”±çš„childrenæ•°é‡:', rootRoute.children?.length || 0);
        
        // 4. æŸ¥æ‰¾Adminè·¯ç”±
        const adminRoute = rootRoute.children?.find(r => r.path === 'admin');
        if (adminRoute) {
            console.log('âœ… Adminè·¯ç”±å·²æ‰¾åˆ°');
            console.log('ğŸ“‹ Adminè·¯ç”±é…ç½®:', {
                path: adminRoute.path,
                name: adminRoute.name,
                redirect: adminRoute.redirect,
                meta: adminRoute.meta,
                childrenCount: adminRoute.children?.length || 0
            });
            
            // 5. åˆ—å‡ºæ‰€æœ‰adminå­è·¯ç”±
            if (adminRoute.children && adminRoute.children.length > 0) {
                console.log('âœ… Adminå­è·¯ç”±åˆ—è¡¨:');
                adminRoute.children.forEach((child, index) => {
                    console.log(`  ${index + 1}. ${child.path} - ${child.meta?.title || 'æ— æ ‡é¢˜'}`);
                });
                
                // 6. æ£€æŸ¥æ–°å¢çš„è·¯ç”±
                const hasPermissions = adminRoute.children.some(c => c.path === 'permissions');
                const hasLevels = adminRoute.children.some(c => c.path === 'levels');
                
                console.log('ğŸ” æ–°å¢è·¯ç”±æ£€æŸ¥:');
                console.log('  permissions:', hasPermissions ? 'âœ… å·²æ‰¾åˆ°' : 'âŒ æœªæ‰¾åˆ°');
                console.log('  levels:', hasLevels ? 'âœ… å·²æ‰¾åˆ°' : 'âŒ æœªæ‰¾åˆ°');
                
                if (hasPermissions) {
                    const permRoute = adminRoute.children.find(c => c.path === 'permissions');
                    console.log('  permissionsè¯¦æƒ…:', {
                        name: permRoute.name,
                        component: permRoute.component ? 'âœ… å·²å®šä¹‰' : 'âŒ æœªå®šä¹‰',
                        meta: permRoute.meta
                    });
                }
                
                if (hasLevels) {
                    const levelRoute = adminRoute.children.find(c => c.path === 'levels');
                    console.log('  levelsè¯¦æƒ…:', {
                        name: levelRoute.name,
                        component: levelRoute.component ? 'âœ… å·²å®šä¹‰' : 'âŒ æœªå®šä¹‰',
                        meta: levelRoute.meta
                    });
                }
            } else {
                console.log('âŒ Adminè·¯ç”±æ²¡æœ‰childrenæˆ–childrenä¸ºç©º');
            }
        } else {
            console.log('âŒ Adminè·¯ç”±æœªæ‰¾åˆ°');
        }
    } else {
        console.log('âŒ æ ¹è·¯ç”±æœªæ‰¾åˆ°');
    }
} else {
    console.log('âŒ Vue Routerå®ä¾‹æœªæ‰¾åˆ°ï¼Œè¯·ç¡®ä¿åœ¨Vueåº”ç”¨ä¸­æ‰§è¡Œæ­¤è„šæœ¬');
    console.log('ğŸ’¡ æç¤ºï¼šåœ¨é¡µé¢åŠ è½½å®Œæˆåï¼Œåœ¨Consoleä¸­è¾“å…¥ä»¥ä¸‹ä»£ç æŸ¥çœ‹è·¯ç”±ï¼š');
    console.log('   document.querySelector("#app").__vue_app__.config.globalProperties.$router');
}

console.log('========================================');
console.log('');
console.log('ğŸ“ å¦‚æœçœ‹åˆ°æ‰€æœ‰âœ…ï¼Œè¯´æ˜è·¯ç”±é…ç½®æ­£ç¡®');
console.log('ğŸ“ å¦‚æœæœ‰âŒï¼Œè¯·æŒ‰ç…§æç¤ºæ£€æŸ¥å¯¹åº”çš„é…ç½®');
console.log('');
console.log('ğŸ’¡ ä¸‹ä¸€æ­¥ï¼šæ£€æŸ¥èœå•æ¸²æŸ“');
console.log('   åœ¨Elementsæ ‡ç­¾ä¸­æŸ¥æ‰¾class="sidebar-menu"çš„å…ƒç´ ');
console.log('   æŸ¥çœ‹å…¶ä¸­æ˜¯å¦åŒ…å«7ä¸ªel-menu-itemï¼ˆåœ¨ç³»ç»Ÿç®¡ç†å­èœå•ä¸‹ï¼‰');
        </pre>
    </div>

    <div class="info">
        <h2>é¢„æœŸè¾“å‡º</h2>
        <pre>
========== OpenWan è·¯ç”±è¯Šæ–­ ==========
âœ… Vue Router å®ä¾‹å·²æ‰¾åˆ°
ğŸ“‹ æ€»è·¯ç”±æ•°é‡: 2
âœ… æ ¹è·¯ç”±å·²æ‰¾åˆ°
ğŸ“‹ æ ¹è·¯ç”±çš„childrenæ•°é‡: 4
âœ… Adminè·¯ç”±å·²æ‰¾åˆ°
ğŸ“‹ Adminè·¯ç”±é…ç½®: { path: 'admin', name: 'Admin', redirect: '/admin/users', meta: {...}, childrenCount: 7 }
âœ… Adminå­è·¯ç”±åˆ—è¡¨:
  1. users - ç”¨æˆ·ç®¡ç†
  2. groups - ç»„ç®¡ç†
  3. roles - è§’è‰²ç®¡ç†
  4. permissions - æƒé™ç®¡ç†
  5. levels - ç­‰çº§ç®¡ç†
  6. categories - åˆ†ç±»ç®¡ç†
  7. catalog - ç›®å½•é…ç½®
ğŸ” æ–°å¢è·¯ç”±æ£€æŸ¥:
  permissions: âœ… å·²æ‰¾åˆ°
  levels: âœ… å·²æ‰¾åˆ°
  permissionsè¯¦æƒ…: { name: 'AdminPermissions', component: 'âœ… å·²å®šä¹‰', meta: {...} }
  levelsè¯¦æƒ…: { name: 'AdminLevels', component: 'âœ… å·²å®šä¹‰', meta: {...} }
========================================
        </pre>
    </div>

    <div class="info">
        <h2>å¦‚æœè¯Šæ–­å¤±è´¥</h2>
        <p class="error"><strong>é—®é¢˜1ï¼šè·¯ç”±æœªæ‰¾åˆ°</strong></p>
        <p>è§£å†³æ–¹æ¡ˆï¼šå¼ºåˆ¶åˆ·æ–°æµè§ˆå™¨ (Ctrl+Shift+R)</p>
        
        <p class="error"><strong>é—®é¢˜2ï¼šchildrenæ•°é‡ä¸æ˜¯7</strong></p>
        <p>è§£å†³æ–¹æ¡ˆï¼šæ¸…é™¤æµè§ˆå™¨ç¼“å­˜æˆ–ä½¿ç”¨æ— ç—•æ¨¡å¼</p>
        
        <p class="error"><strong>é—®é¢˜3ï¼špermissionsæˆ–levelsæœªæ‰¾åˆ°</strong></p>
        <p>è§£å†³æ–¹æ¡ˆï¼šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤é‡å¯å‰ç«¯æœåŠ¡å™¨</p>
        <pre>
pkill -f vite
cd /home/ec2-user/openwan/frontend
npm run dev
        </pre>
    </div>

    <div class="info">
        <h2>å¿«é€Ÿæµ‹è¯•</h2>
        <p>ç›´æ¥è®¿é—®ä»¥ä¸‹URLæµ‹è¯•è·¯ç”±æ˜¯å¦å·¥ä½œï¼š</p>
        <ul>
            <li><a href="http://localhost:3000/admin/permissions" target="_blank">http://localhost:3000/admin/permissions</a></li>
            <li><a href="http://localhost:3000/admin/levels" target="_blank">http://localhost:3000/admin/levels</a></li>
        </ul>
        <p>å¦‚æœèƒ½æ­£å¸¸æ˜¾ç¤ºé¡µé¢ï¼Œè¯´æ˜è·¯ç”±é…ç½®æ­£ç¡®ï¼Œåªæ˜¯èœå•æ¸²æŸ“æœ‰é—®é¢˜ã€‚</p>
    </div>
</body>
</html>
